---
layout: default
---

<span>[Часть 1.3](){: .label }</span>

Вам требуется скомпилировать программу, состоящую из единственного файла main.c в исполняемый
файл loader. Вы знаете, что данная программа использует libdl для загрузки динамических 
библиотек в run-time. Какая команда, на ваш взгляд, для этого больше всего подходит?
  
  - [ ] `gcc main.c -fPIC -ldl -L.`
  - [x] `gcc main.c -fPIC -ldl -o loader`
  - [ ] `gcc -o main.c -libdl -fPIC loader`
  - [ ] `gcc main.c -fPIC --shared -o loader`

---

Проверьте свои знания, отметьте верные утверждения.

  - [ ] `dlsym` должна вызываться перед каждым вызовом функции из библиотеки
  - [ ] загружаемые в run-time библиотеки должны находиться в текущем каталоге программы
  - [x] `LD_LIBRARY_PATH` позволяет указать, где dlopen будет искать библиотеки
  - [x] `extern "C"` в с++ файле отключает мэнглинг экпортируемых имен
  - [ ] `extern "C"` обеспечивает автоматическое приведение типов при вызове функций из 
  -     библиотеки

---

Разработать программу solution, обеспечивающую загрузку динамической библиотеки в режиме исполнения. При запуске, 
программе передается имя динамической библиотеки, имя функции которая должна быть вызвана, и ее аргумент. 
Функция в библиотеке принимает на вход int и возвращает int. Результат, возвращаемый функцией должен быть выведен 
отдельной строкой (оканчиваться символом новой строки \n)  в stdout.



<span class="d-block text-right">
  [Часть 1.2]({{ site.baseurl }}{% link docs/stepik/course/548/section-1.2.md %}){: .float-left }
  [Часть 2.1]({{ site.baseurl }}{% link docs/stepik/course/548/section-2.1.md %})
</span>
